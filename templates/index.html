<!DOCTYPE html>
<html lang='en' data-theme="light">
<head>
   <meta charset='utf-8'>
   <title>Home</title>
   <meta name="viewport" content="width=device-width, initial-scale=1">
   <link rel='stylesheet' href="{{ url_for('static', filename='style.css') }}">
   <link rel="icon" href="/static/icons/Robotics.png" type="image/x-icon">
</head>
<body>
   <div class="navigation">
      {% if user %}
         <h1 class="nav-title">< {{ user }} > Home</h1>
      {% else %}
         <h1 class="nav-title">Home</h1>
      {% endif %}
      <div class="nav-links">
        <a href="{{ url_for('index') }}">Home</a>
        <a href="{{ url_for('major_plan') }}">Major Plan</a>
         <a href="{{ url_for('explore') }}">Explore</a>
      </div>
   </div>
<div class="parent-container">
   <div class="child-container scrollable">
      {% with messages = get_flashed_messages() %}
      {% if messages %}
         <div>
            {% for message in messages %}
               <span class="flashed-message">{{ message }}</span>
            {% endfor %}
         </div>
      {% endif %}
      {% endwith %}
      <form method=POST action="{{ url_for('index') }}">
         <input type="username" name='username' value="" class="input_box">
         <input type="submit" name="login" value="Log In" class="submit_button">
         <input type="submit" name="logout" value="Log Out" class="submit_button">
      </form>
      <p>Log in using your Wellesley username (ex: rg123) to track your progress!</p>
      <h2>About CS Hub</h2>
      <p>This is a website for Wellesley students who are CS majors or are interested in exploring CS.</p>
      <p>Explore the different tabs to view your major plan (make sure to log in first!) and various courses and opportunities related to the many fields within computer science!</p>
      <p><a href="https://cs.wellesley.edu/~cs/Curriculum/dependencies.html" target="_blank">Wellesley CS Course Flowchart</a></p>
      <p><a href="https://cs.wellesley.edu/timeline/" target="_blank">Wellesley CS Department Timeline</a></p>
      <div class="footer-info">
         <hr>
         <p>Created by:</p>
         <p>
            <a href="https://github.com/ninahowley" target="_blank">Nina Howley</a> '27 and
            <a href="https://github.com/propadiene-1" target="_blank">Aileen Liang</a> '28
            @ Wellesley UpSkill
         </p>
      </div>
   </div>
   <div class="child-container scrollable">
      <h2>Spring '26 Course Offerings</h2>
      {% for course in spring_courses %}
         <div class="course-container {% if course.course_core %}core{% endif %}" data-popup="{{ course.course_tag | replace(' ', '-') }}">
               <div class="instructor-line">
                  <span>{{ course.course_tag }}: {{ course.course_name }}</span>
                  {% if course.course_distribs %}
                     <span class="distribs">{{ course.course_distribs }}</span>
                  {% endif %}
               </div>
         </div>
      {% endfor %}
   </div>
</div>
<div>
   {% for d in spring_data %}
   <div class="course-popup hidden" id="{{ d | replace(' ', '-') }}">
      <h2>{{ d }}: {{ spring_data[d]['course_name'] }}</h2>
      <p>{{ spring_data[d]['description'] }}</p>
      <p>Distribution(s): {{ spring_data[d]['course_distribs'] }}</p>
   </div>
   {% endfor %}
</div>
</body>
</html>
<script>
   document.querySelectorAll(".course-container").forEach(course => {
      //open on hover
      course.addEventListener("mouseenter", (e) => {
         e.stopPropagation();

         //close all popups first
         document.querySelectorAll(".course-popup").forEach(popup => {
            popup.classList.add("hidden");
         });

         //open selected popup
         const popupId = course.dataset.popup; //get ID from courselist
         const popup = document.getElementById(popupId); //open corresponding popup

         if (popup) {
            popup.classList.remove("hidden");
         }
      });
   });

   //close when mouse leaves popup
   document.querySelectorAll(".course-popup").forEach(course => {
      course.addEventListener('mouseleave', (e) => {
         e.stopPropagation();

         //close all popups
         document.querySelectorAll(".course-popup").forEach(popup => {
            popup.classList.add("hidden");
         });
      });
   });
</script>